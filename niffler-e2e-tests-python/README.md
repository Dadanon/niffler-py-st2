# ДЗ по заданию `Работаем с реляционными базами данных из тестов`

Созданы 2 модели:

- Spend
- Category

Имеется следующий набор тестов:

- ошибочный логин
- успешная регистрация
- ошибочная регистрация
- успешный логин
- успешное добавление друга
- ошибочное добавление траты (некорректное количество)
- ошибочное добавление траты (некорректная категория)
- успешное добавление траты
- успешное удаление траты
- успешное изменение траты

Из них затрагивают БД:

- успешная регистрация
- успешный логин
- успешное добавление друга
- успешное добавление траты
- успешное удаление траты
- успешное изменение траты

Соответственно, в этих функциях необходимо вручную проверить изменения в БД.

В данной работе применим подход, отличный от предыдущего:
1. Создаём одного зарегистрированного пользователя в фикстуре (scope="session"), после блока yield удалим пользователя из БД
2. В фикстуре регистрации создаём пользователя без вмешательства в базу, а в тесте на регистрацию, использующем эту фикстуру, вручную удаляем пользователя из базы в случае успеха
3. В остальных тестах используем фикстуру из п.1



